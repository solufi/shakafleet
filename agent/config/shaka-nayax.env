# Nayax Spark Protocol Configuration
# Server-to-server API (replaces Marshall RS232 serial protocol)
# Docs: https://developerhub.nayax.com/docs/spark

# Spark API base URL (sandbox or production)
# Sandbox: https://usstage-spark.nayax.com  (or as provided by Nayax)
# Production: https://api.nayax.com
NAYAX_SPARK_API_URL=https://api.nayax.com

# Credentials (provided by Nayax during onboarding)
# Sign Key: 16-char shared secret for HMAC signature
NAYAX_SPARK_SIGN_KEY=
# Sign Key ID: your IntegratorId
NAYAX_SPARK_SIGN_KEY_ID=
# Token ID: authentication token
NAYAX_SPARK_TOKEN_ID=
# Terminal ID: VPOS Touch device identifier
NAYAX_SPARK_TERMINAL_ID=

# Webhook URL where Nayax sends callbacks (must be publicly accessible)
# This is the Fleet Manager endpoint that forwards to the RPi
NAYAX_SPARK_WEBHOOK_URL=https://fleet.shakadistribution.ca/api/nayax/webhook

# Simulation mode: 1=enabled (no real API calls), 0=disabled (real Spark API)
NAYAX_SIMULATION=1

# Decimal places for price (Canada=2, meaning 100 = $1.00)
NAYAX_DECIMAL_PLACES=2

# Vend result timeout in seconds
NAYAX_VEND_RESULT_TIMEOUT=30

# State file (shared with vend server)
NAYAX_STATE_FILE=/tmp/shaka_nayax_state.json

# Reconnect interval in seconds
NAYAX_RECONNECT_INTERVAL=5

# Heartbeat interval in seconds
NAYAX_HEARTBEAT_INTERVAL=10

# API request timeout in seconds
NAYAX_API_TIMEOUT=15

# Simulation settings
NAYAX_SIM_APPROVAL_DELAY=3.0
NAYAX_SIM_AUTO_APPROVE=1
